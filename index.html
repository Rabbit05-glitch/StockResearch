function loadCSVData(file, tableId) {
    $.get(file).done(function(data) {
        var parsedData = Papa.parse(data, { header: true }).data;
        var tableBody = $(tableId + ' tbody');
        var tableHeader = $(tableId + ' thead');
        var longOmegaBody = $('#longOmegaTable tbody');
        var shortOmegaBody = $('#shortOmegaTable tbody');

        if ($.fn.DataTable.isDataTable(tableId)) {
            $(tableId).DataTable().destroy(); // Destroy existing DataTable
            $(tableId + ' tbody').empty(); // Clear existing table body
        }

        if (tableId === '#longOmegaTable' && $.fn.DataTable.isDataTable('#longOmegaTable')) {
            $('#longOmegaTable').DataTable().destroy();
            $('#longOmegaTable tbody').empty();
        }

        if (tableId === '#shortOmegaTable' && $.fn.DataTable.isDataTable('#shortOmegaTable')) {
            $('#shortOmegaTable').DataTable().destroy();
            $('#shortOmegaTable tbody').empty();
        }

        if (parsedData.length > 0) {
            var headers = Object.keys(parsedData[0]);
            var headerRow = '<tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr>';
            tableHeader.html(headerRow);

            parsedData.forEach(row => {
                var tableRow = '<tr>';
                headers.forEach(header => {
                    var value = row[header] || 'N/A'; // Replace undefined with N/A
                    if (header.toLowerCase() === 'long or short') {
                        if (value.toUpperCase() === 'LONG OMEGA') {
                            tableRow += `<td class="long">${value}</td>`;
                        } else if (value.toUpperCase() === 'SHORT OMEGA') {
                            tableRow += `<td class="short">${value}</td>`;
                        } else {
                            tableRow += `<td>${value}</td>`;
                        }
                    } else {
                        tableRow += `<td>${value}</td>`;
                    }
                });
                tableRow += '</tr>';

                if (row['Long or Short'] === 'LONG OMEGA') {
                    longOmegaBody.append(tableRow);
                } else if (row['Long or Short'] === 'SHORT OMEGA') {
                    shortOmegaBody.append(tableRow);
                } else {
                    tableBody.append(tableRow);
                }
            });

            // Initialize DataTables
            $(tableId).DataTable({ pageLength: 15 });
            if (tableId === '#longOmegaTable') {
                $('#longOmegaTable').DataTable({ pageLength: 15 });
            }
            if (tableId === '#shortOmegaTable') {
                $('#shortOmegaTable').DataTable({ pageLength: 15 });
            }
        }
    });
}
